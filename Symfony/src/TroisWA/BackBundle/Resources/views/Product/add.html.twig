{% extends "TroisWABackBundle::layoutBo2.html.twig" %}
{% block page %} Add Product {% endblock %}

{% block stylesheets %}

    {{ parent() }}


{% endblock %}

{% block content %}

    {% for message in app.session.flashbag.get("success_contact") %}

        <div class="alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            <h4>	<i class="icon fa fa-check"></i> Yay!</h4>
            {{ message }}
        </div>

    {% endfor %}



    {#{{ form(formProduct) }}#}


    <div class="panel widget  light-widget">
        <div class="panel-heading no-title"> </div>
        <div  class="panel-body">
            <div class="tab-content no-bd mgbt-xs-20">
                <div id="tabinfo" class="tab-pane active">
                      {{ form_start(formProduct,{'attr':{novalidate:"novalidate",class:"form-horizontal"}}) }} {#Desactive le html5 pour tout le formulaire #}
                      {{ form_errors(formProduct) }}


                    {#<form class="form-horizontal">#}
                        <div class="vd_panel-menu">
                            <div> <button class="btn vd_btn vd_bg-blue btn-sm" type="submit">
                                    <i class="fa fa-save append-icon"></i>
                                    Save Changes
                                </button>
                                <button  data-toggle="modal" data-target="#myModal" class="btn btn-default btn-sm">
                                    <i class="fa fa-times append-icon"></i>
                                    Cancel Changes</button>
                            </div>
                        </div>



                        <h3 class="mgtp-15 mgbt-xs-20"> Product Information</h3>
                        <div class="form-group">
                            <label  class="control-label col-lg-3" ><span data-toggle="tooltip" class="label-tooltip" data-original-title="Product type"> {{ form_label(formProduct.category) }} </span></label>
                            <div class="col-lg-9">


                                {% for children in formProduct.category.children %}
                                    {#{{ dump(children) }}#}
                                    <div class="vd_radio radio-success">
                                        <input type="radio" name="{{ children.vars.full_name }}" value="{{ children.vars.value }}" id="simple_product_{{ children.vars.value }}">
                                        <label for="simple_product_{{ children.vars.value }}">{{ children.vars.label }}</label>
                                    </div>
                                {% endfor %}



                            </div>
                        </div>
                        <!-- form-group -->
                        <div class="col-md-12">

                            <div class="form-group">
                                <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Product Name">  {{ form_label(formProduct.title,"Name",{ label_attr:{ class:"control-label col-lg-3 required"}}) }} </span>

                                <div class="col-lg-5">
                                    <div class="row mgbt-xs-0">
                                        <div class="col-sm-9">
                                            {{ form_widget(formProduct.title,{ attr:{ class:"updateCurrentText", placeholder:" Title" } }) }}
                                        </div>


                                        <div class="col-sm-2">
                                            <button tabindex="-1" data-toggle="dropdown" class="btn btn-default btn-xs dropdown-toggle" type="button"> en <span class="caret"></span> </button>
                                            <ul class="dropdown-menu">
                                                <li> <a href="#">English (English)</a> </li>
                                                <li> <a href="#">Español (Spanish)</a> </li>
                                                <li> <a href="#">Français (French)</a> </li>
                                                <li> <a href="#">Italiano (Italian)</a> </li>
                                                <li> <a href="#">Deutsch (German)</a> </li>
                                                <li> <a href="#">Dutch</a> </li>
                                                <li> <a href="#">Polish</a> </li>
                                                <li> <a href="#">Russian</a> </li>
                                                <li> <a href="#">Portuguese</a> </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {{ form_errors(formProduct.title) }}
                        </div>

                    <!-- form-group -->
                    <div class="col-md-12">

                        <div class="form-group">
                            <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Product Name">  {{ form_label(formProduct.brand,"Brand",{ label_attr:{ class:"control-label col-lg-3 required"}}) }} </span>

                            <div class="col-lg-5">
                                <div class="row mgbt-xs-0">
                                    <div class="col-sm-9">
                                        {{ form_widget(formProduct.brand,{ attr:{ class:"updateCurrentText" } }) }}
                                    </div>



                                </div>
                            </div>
                        </div>
                        {{ form_errors(formProduct.brand) }}
                    </div>

                    <div class="col-md-12">
                        <!-- form-group -->

                        <div class="form-group">
                            <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="">{{ form_label(formProduct.price,"Price",{ label_attr:{ class:"control-label col-lg-3 required"}}) }} </span>
                            <div class="col-lg-4">
                                <div class="input-group"> <span class="input-group-addon">$ </span>
                                    {{ form_widget(formProduct.price) }}
                                    {# <input type="text" onkeyup="if (isArrowKey(event)) return ;this.value = this.value.replace(/,/g, '.'); unitPriceWithTax('unit');" maxlength="14" value="0.00" name="unit_price" id="unit_price">#}
                                </div>
                            </div>
                        </div>
                        {{ form_errors(formProduct.price) }}

                    </div>

                        <!-- form-group -->
                        <div class="col-md-12"><br></div>
                        <div class="col-md-12">

                            <div class="form-group">
                                <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Product reference number (REF-XXXXXX, etc.)"> {{ form_label(formProduct.reference,"Code",{ label_attr:{ class:"control-label col-lg-3 required"}}) }} </span>
                                <div class="col-lg-3">
                                    {{ form_widget(formProduct.reference,{ attr:{ class:"updateCurrentText", placeholder:" REF-XXXXXX" } }) }}

                                </div>
                                 <div class="form-group">
                                    <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="">{{ form_label(formProduct.activate,"Enable",{ label_attr:{ class:"control-label col-lg-3 required"}}) }}  </span>
                                    <div class="col-lg-3">
                                        {{ form_widget(formProduct.activate,{ attr:{ class:"updateCurrentText" } }) }}
                                    </div>

                                 </div>
                            </div>
                            </div>

                            <!-- form-group -->



                        <div class="col-md-12"><br></div>
                        {#<div class="col-sm-3 controls">#}
                            {#<div class="input-group">#}
                                {#<span title="" data-toggle="tooltip" class="label-tooltip" data-original-title=""> {{ form_label(formProduct.dateCreated,"Date Created",{ label_attr:{ class:"control-label col-lg-3 required"}}) }} </span>#}

                                {#{{ form_widget(formProduct.dateCreated,{ attr:{ class:"hasDatepicker"},id:"datepicker-icon" }) }}#}

                                {#<span class="input-group-addon" id="datepicker-icon-trigger" data-datepicker="#datepicker-icon"><i class="fa fa-calendar"></i></span> </div>#}
                        {#</div>#}
                        <div class="col-md-12">

                        <div class="form-group">
                           {{ form_label(formProduct.dateCreated,"Date Created",{ label_attr:{ class:"control-label col-lg-3 required"}}) }}
                            <div class="input-group col-lg-3">
                                {{ form_widget(formProduct.dateCreated,{type: "text", attr:{  placeholder:'Date'}, id:"datepicker-icon" }) }}

                                {#<input type="text" placeholder="Date" id="datepicker-icon">#}
                                <span class="input-group-addon" id="datepicker-icon-trigger" data-datepicker="#datepicker-icon"><i class="fa fa-calendar"></i></span> </div>
                        </div>
                        </div>





                        <!-- form-group -->
                         <div class="col-md-12"><br></div>

                         <div class="form-group">
                             <label for="description_short_1" class="control-label col-lg-3"> <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Appears in the product list(s), and at the top of the product page."> Short description </span> </label>
                             <div class="col-lg-8 mgbt-xs-10 mgbt-lg-0">
                                 <textarea name="description_short_1" id="description_short_1" data-rel="ckeditor" rows="1" ></textarea>
                             </div>
                             <div class="col-lg-1">
                                 <button tabindex="-1" data-toggle="dropdown" class="btn btn-xs btn-default dropdown-toggle" type="button"> en <span class="caret"></span> </button>
                                 <ul class="dropdown-menu pull-right">
                                     <li> <a href="#">English (English)</a> </li>
                                     <li> <a href="#">Español (Spanish)</a> </li>
                                     <li> <a href="#">Français (French)</a> </li>
                                     <li> <a href="#">Italiano (Italian)</a> </li>
                                     <li> <a href="#">Deutsch (German)</a> </li>
                                     <li> <a href="#">Dutch</a> </li>
                                     <li> <a href="#">Polish</a> </li>
                                     <li> <a href="#">Russian</a> </li>
                                     <li> <a href="#">Portuguese</a> </li>
                                 </ul>
                             </div>
                         </div>
                         <!-- form-group -->
                         <div class="col-md-12"><br></div>

                         <div class="form-group">
                             <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Appears in the body of product detail."> {{ form_label(formProduct.description,"Description",{ label_attr:{ class:"control-label col-lg-3 required"}}) }}  </span>
                             <div class="col-lg-8 mgbt-xs-10 mgbt-lg-0">
                                 {{ form_widget(formProduct.description) }}
                             </div>
                             <div class="col-lg-1">
                                 <button tabindex="-1" data-toggle="dropdown" class="btn btn-xs btn-default dropdown-toggle" type="button"> en <span class="caret"></span> </button>
                                 <ul class="dropdown-menu pull-right">
                                     <li> <a href="#">English (English)</a> </li>
                                     <li> <a href="#">Español (Spanish)</a> </li>
                                     <li> <a href="#">Français (French)</a> </li>
                                     <li> <a href="#">Italiano (Italian)</a> </li>
                                     <li> <a href="#">Deutsch (German)</a> </li>
                                     <li> <a href="#">Dutch</a> </li>
                                     <li> <a href="#">Polish</a> </li>
                                     <li> <a href="#">Russian</a> </li>
                                     <li> <a href="#">Portuguese</a> </li>
                                 </ul>
                             </div>
                         </div>
                         {{ form_errors(formProduct.description) }}
                         <!-- form-group -->
                <div class="col-md-12"></div>
                        <div class="form-group">
                            <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Appears in the body of product detail."> {{ form_label(formProduct.quantity,"Quantity",{ label_attr:{ class:"control-label col-lg-3 required"}}) }}  </span>
                            <div class="col-lg-8 mgbt-xs-10 mgbt-lg-0">
                                {{ form_widget(formProduct.quantity) }}
                            </div>

                        </div>
                        {{ form_errors(formProduct.quantity) }}

                         <div class="col-md-12"><br></div>
                         <div class="form-group">
                             <label for="tags_1" class="control-label col-lg-3"> <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="">  {{ form_label(formProduct.tags,"Tags",{ label_attr:{ class:"control-label col-lg-3 required"}}) }} </span> </label>
                             <div class="col-lg-8 mgbt-xs-10 mgbt-lg-0">
                                 <div class="row">
                                     <div class="col-lg-9 mgbt-xs-10 mgbt-lg-0">

                                          <div class="col-sm-7 controls">

                                         {#{{ form_widget(formProduct.tags,{type: "text", attr:{  placeholder:'Date', class:"tags", "data-prototype":"bob" }, id:"input-autocomplete" }) }}#}
                                         {#{{ form_widget(formProduct.tags) }}#}
                                              <a href="#" id="add-another-email">Ajout un tag</a>
                                              <ul id="email-fields-list"
                                                  data-prototype="{{ form_widget(formProduct.tags.vars.prototype)|e }}">

                                              </ul>


                                            </div>
                                     </div>

                                 </div>
                             </div>
                         </div>








                             <div class="col-md-12">

                                 <div class="form-group">
                                     <label class="control-label col-lg-3 file_upload_label"> <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Format JPG, GIF, PNG. Filesize 8.00 MB max."> Add a new image  </span> </label>
                                     <div class="col-lg-9"> <span class="btn vd_btn vd_bg-green fileinput-button"> <i class="glyphicon glyphicon-plus"></i> <span>Add files...</span>
                               <!-- The file input field used as target for the file upload widget -->
                               <input type="file" multiple name="files[]" id="fileupload">

                               </span> <br>
                                         <br>

                                         <!-- The container for the uploaded files -->
                                         <div id="files" class="files"></div>
                                         <br>
                                     </div>
                                 </div>

                                 <div class="form-group">
                                     <label class="control-label col-lg-3"> <span title="" data-toggle="tooltip" class="label-tooltip" data-original-title="Invalid characters &lt;&gt;;=#{}"> Caption </span> </label>
                                     <div class="col-lg-9">
                                         <div class="translatable-field row lang-1">
                                             <div class="col-lg-6">
                                                 <input type="text" value="Faded Short Sleeve T-shirts" name="legend_1" id="legend_1">
                                             </div>

                                         </div>
                                     </div>
                                 </div>
                             </div>


     {{ form_widget(formProduct._token) }}
      </form>{#Desactive le html5 pour tout le formulaire #}
                 </div>
                 <!-- #tabinfo -->
     </div>
     <!-- tab-content -->
    </div>
     <!-- panel-body -->

     <!-- form-horizontal -->
     <!-- Panel Widget -->



{% endblock %}

{% block javascripts %}

    {{ parent() }}

    <script type="text/javascript" src='{{ asset("plugins/tagsInput/jquery.tagsinput.min.js") }}'></script>

    <script type="text/javascript" src='{{ asset("plugins/bootstrap-timepicker/bootstrap-timepicker.min.js") }}'></script>
    <script type="text/javascript" src='{{ asset("plugins/daterangepicker/moment.min.js") }}'></script>
    <script type="text/javascript" src='{{ asset("plugins/daterangepicker/daterangepicker.js") }}'></script>
    <script type="text/javascript" src='{{ asset("plugins/colorpicker/colorpicker.js") }}'></script>
    <script type="text/javascript" src='{{ asset("plugins/ckeditor/ckeditor.js") }}'></script>
    <script type="text/javascript" src='{{ asset("plugins/ckeditor/adapters/jquery.js") }}'></script>


    <script type="text/javascript">
        $(window).load(function() {
            "use strict";

            $("#datepicker-icon").datepicker({dateFormat: 'dd M yy'});
            $('[data-datepicker]').click(function (e) {
                var data = $(this).data('datepicker');
                $(data).focus();
            });

        });


    </script>
    <script type="text/javascript">

        // keep track of how many email fields have been rendered
        var emailCount = '{{ formProduct.tags|length }}';

        jQuery(document).ready(function() {
            jQuery('#add-another-email').click(function(e) {
                e.preventDefault();

                var emailList = jQuery('#email-fields-list');

                // grab the prototype template
                var newWidget = emailList.attr('data-prototype');
                // replace the "__name__" used in the id and name of the prototype
                // with a number that's unique to your emails
                // end name attribute looks like name="contact[emails][2]"
                newWidget = newWidget.replace(/__name__/g, emailCount);
                emailCount++;

                // create a new list element and add it to the list
                var newLi = jQuery('<li></li>').html(newWidget);
                newLi.appendTo(emailList);
            });
        })



    </script>




{% endblock %}