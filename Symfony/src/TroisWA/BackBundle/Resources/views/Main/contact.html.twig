{% extends "TroisWABackBundle::layoutBo2.html.twig" %}

{% block page %} Contact {% endblock %}

{# Effectuer la modif des errors#}

{% form_theme formContact _self  %}


{%- block form_errors -%}
    {%- if errors|length > 0 -%}

            {%- for error in errors -%}
                <div class="alert alert-danger alert-dismissable alert-condensed">
                    <i class="fa fa-exclamation-triangle append-icon"></i>
                    <strong>{{ error.message }}</strong>

                </div>
            {%- endfor -%}
    {%- endif -%}
{%- endblock form_errors -%}


{% block content %}
    {#

Permet d'afficher directement le formulaire

    {{ form(formContact) }}

    #}

    {#
    Permet de creer la balise form ouvrante/fermante. Si l'interieur est vide, il va génerer
    l'intégralité des inputs. Y inclus le TOKEN
    #}
    {% for message in app.session.flashbag.get("success_contact") %}

        <div class="alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            <h4>	<i class="icon fa fa-check"></i> Yay!</h4>
            {{ message }}
        </div>


    {% endfor %}

    <div class="tab-content col-md-offset-1 col-sm-10">
        <div class="tab-pane active" id="tab1">
            {#{{ form_start(formContact) }}#}
            {{ form_start(formContact,{'attr':{novalidate:"novalidate"}}) }} {#Desactive le html5 pour tout le formulaire #}

            {#ceci permet d'afficher le label,widget(input) et errors#}
            {#{{ form_row(formContact.email) }}#}


            {#&#123;&#35;<label>&#35;&#125; {{ form_label(formContact.email,null,{ label_attr:{ class:"form-label"}}) }}#}
            {#&#123;&#35;<input>&#35;&#125;{{ form_errors(formContact.email) }}#}
            {#&#123;&#35;<ul/li>&#35;&#125; {{ form_widget(formContact.email,{ attr:{ class:"form-control", placeholder:"bob" }, id:"bob" }) }}#}



            <div class="row ">
                <div class="col-sm-6 ">

                    {{ form_label(formContact.firstname,"First Name",{ label_attr:{ class:"form-label"}}) }}
                    <div class="form-group {% if form_errors(formContact.firstname) %} has-error {% endif %}">
                    {{ form_widget(formContact.firstname,{ attr:{ class:"form-control", placeholder:" First Name" } }) }}
                    {{ form_errors(formContact.firstname) }}
                    </div>
                </div>
                <div class="col-sm-6">
                    {{ form_label(formContact.lastname,"Last Name",{ label_attr:{ class:"form-label"}}) }}
                    <div class="form-group {% if form_errors(formContact.firstname) %} has-error {% endif %}">
                    {{ form_widget(formContact.lastname,{ attr:{ class:"form-control", placeholder:" Last Name" } }) }}
                    {{ form_errors(formContact.lastname) }}
                        </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-5">
                    {{ form_label(formContact.username,"Username",{ label_attr:{ class:"form-label"}}) }}
                    <div class="form-group {% if form_errors(formContact.firstname) %} has-error {% endif %}">
                    {{ form_widget(formContact.username,{ attr:{ class:"form-control", placeholder:" Username" } }) }}
                    {{ form_errors(formContact.username) }}
                        </div>
                </div>
                <div class="col-sm-7">
                    {{ form_label(formContact.email,"Email",{ label_attr:{ class:"form-label"}}) }}
                    <div class="form-group {% if form_errors(formContact.firstname) %} has-error {% endif %}">
                    {{ form_widget(formContact.email,{ attr:{ class:"form-control", placeholder:" Email" } }) }}
                    {{ form_errors(formContact.email) }}
                        </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <div class="label-wrapper">
                        {{ form_label(formContact.content,"Content",{ label_attr:{ class:"form-label"}}) }}
                    </div>
                    <div class="form-group {% if form_errors(formContact.firstname) %} has-error {% endif %}">
                    {{ form_widget(formContact.content,{ attr:{ class:"form-control noresize", placeholder:" Content" } }) }}
                    {{ form_errors(formContact.content) }}
                        </div>
                </div>

            </div>
            <br>
            <div class="row">
                <button class="btn btn-warning  col-md-6 col-md-offset-3" type="submit">Submit
            <span class="menu-icon">
                <i class="fa fa-fw fa-chevron-circle-right"></i></span
                    ></button>
            </div>


        </div>

        {{ form_end(formContact) }}
    </div>






{% endblock %}


